# File: Dockerfile-alpine
FROM alpine:latest

# Install basic tools
RUN apk add --no-cache \
    bash \
    python3 \
    py3-pip \
    shadow \
    py3-cryptography \
    && rm -rf /var/cache/apk/*

# Create attacker user
RUN adduser -D -s /bin/bash attacker && \
    echo "attacker:attacker" | chpasswd

# Dangerous permissions - make files world writable
RUN chmod 666 /etc/passwd && chmod 666 /etc/shadow

USER attacker
WORKDIR /home/attacker

COPY passwd_alpine.py .

CMD ["/bin/bash"] 